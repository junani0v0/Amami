# 仕様書

**作成者:**  
パク・ジュンハン (朴 俊漢, PARK JUNHAN)

**アプリ名:**  
<img src="https://github.com/user-attachments/assets/36427f98-9769-4b96-8c53-780fc792c37d" width="20%">

### Amami  - グルメサーチ
*あなたの周りのお店 (Anata no mawari no mise)*

---

## アプリ概要
Amamiは、ユーザーの現在位置を基準に周辺のレストランを簡単に検索できるウェブアプリケーションです。ユーザーはさまざまな検索条件を設定し、目的のレストランを探し、詳細情報や地図を通じて素早く目的地に移動できます。

---
## 重要なポイント

### 機能:
周辺のレストランを様々な条件で検索できるだけでなく、経路案内機能も提供するように設計しました。

### デザイン:
ユーザーエクスペリエンスを考慮し、できる限りシンプルで直感的なデザインを目指しました。

---

## リポジトリ URL
https://github.com/junani0v0/Amami
---


## 開発環境
- **開発ツール:** Visual Studio Code (バージョン 1.93.1)
- **使用言語:** JavaScript (ES6), HTML5, CSS3, JSON
- **対応OSおよびブラウザ:**  
  - **OS:** Windows, macOS, Linux  
  - **ブラウザ:** Chrome, Firefox, Safari など主要なブラウザ
- **開発期間:** 2週間
---

AMAMI/   
│   
├── .env                   # 環境変数ファイル (APIキーの暗号化試行未完了)   
├── node_modules/          # npmパッケージがインストールされるディレクトリ (APIキーの暗号化試行未完了)    
├── package.json           # プロジェクトの設定と依存関係リスト (APIキーの暗号化試行未完了)   
├── server.js              # Node.jsサーバー用ファイル (APIキーの暗号化試行未完了)   
├── index.html             # HTMLファイル      
├── result.html            # HTMLファイル     
├── css/     
│   └── styles.css         # CSSファイル     
├── js/       
│   └── script.js          # JavaScriptファイル      
├── json/     
│   ├── en.json            # 多言語ファイル (英語)   
│   ├── ja.json            # 多言語ファイル (日本語)   
│   └── kr.json            # 多言語ファイル (韓国語)   
└── images/logo.png        # アプリケーションロゴ    


---

## 主な機能
1. **レストラン検索**  
   ユーザーの現在位置を基に、HotPepper Gourmet Web Service APIを使用して周辺のレストランを検索します。
2. **検索結果リスト表示**  
   検索結果ページには、レストランのリストが10件ずつ表示され、各レストランの情報は写真、名前、所在地で構成されています。
3. **レストラン情報の取得**  
   検索されたレストランの詳細情報をAPIを通じてモーダルウィンドウに表示します。
4. **道案内機能**  
   Google Maps APIを利用して、ユーザーの現在位置から選択したレストランまでの経路案内を提供します。
5. **多言語対応**  
   i18nextを使用して、日本語、韓国語、英語のテキスト変換および言語変更機能を提供します。
6. **現在位置に基づく検索**  
   Geolocation APIを使用してユーザーの現在位置を取得します。ユーザーが位置情報の許可をすると、現在位置が自動的に入力されます。
7. **ページネーション**  
   検索結果が多い場合、10件ずつページネーションで表示し、ユーザーは複数ページの結果を探すことができます。
8. **予約およびクーポン機能の連携**  
   レストランの予約URLやクーポン情報と連携し、予約およびクーポン利用をサポートします。
9. **住所自動補完機能**  
   Google Maps Places APIを使用して、住所入力時に自動補完機能を提供します。
10. **エラーメッセージおよび入力検証**  
   緯度・経度の値が正しく入力されていない場合や、検索半径や並び替え基準が選択されていない場合に警告メッセージを表示して入力検証を行います。

---

### 今後考慮すべき追加機能

1. **ユーザーに合わせたおすすめシステム**  
   ユーザーの検索履歴や好みに基づいて、おすすめのレストランを提供し、ユーザー体験を向上させる機能を追加することができます。
2. **店舗レビューおよび評価機能**  
   Google Places APIやHotPepper APIからレビューを取得してユーザーに表示したり、ユーザーが直接レビューを残せる機能を追加できます。
3. **店舗画像の追加**  
   HotPepper APIでは1つの画像のみ提供されるため、Google Places APIから複数の画像を取得し、ユーザーに表示することができます。
4. **電話連携および電話予約**  
   HotPepper APIでは電話番号が提供されないため、Google Places APIから電話番号を取得し、電話機能と連携することが可能です。
5. **経路案内の改善**  
   現在は緯度・経度のみで店舗の位置を提供していますが、店舗名や追加情報を一緒に提供するように改善できます。

---

## 画面構成

### 1. **検索画面:**  
<img src="https://github.com/user-attachments/assets/83a66951-1c3e-45ab-978e-41646f55ec5a" alt="searchPage" width="400">

位置情報入力フィールド、検索範囲選択、並び替え基準選択、ジャンル選択などの検索オプションを提供するページです。  
ユーザーが住所入力または現在位置を使用してレストランを検索し、さまざまな検索条件を設定できます。

### 2. **検索結果画面:**  
<img src="https://github.com/user-attachments/assets/ef64a63c-98e2-4547-99f0-c7429dfa3ea5" alt="resultPage" width="400">

検索条件に一致したレストランのリストを表示し、検索条件の再設定も可能です。  
 レストランをクリックすると、モーダルウィンドウが開き、詳細情報を確認できます。

### 3. **詳細情報画面:**  
<div style="display: flex; gap: 10px;">
   <img src="https://github.com/user-attachments/assets/e61d9c55-7ec8-4ea1-8d6d-0f31cceeac44" alt="detailPage2" width="300">
   <img src="https://github.com/user-attachments/assets/e56cbe32-9de4-4b7b-9739-61555fbf19d3" alt="detailPage1" width="300">
</div>

選択されたレストランの詳細情報を表示するポップアップウィンドウです。  
レストラン情報以外に、Google Mapsを通じた経路案内ボタンや予約・クーポンURL連携ボタンも含まれています。

---

## 使用API

### 外部APIおよびライブラリ
1. **Google Fonts (Noto Sans)**  
   テキストスタイリング用のフォントです。
2. **Google Maps JavaScript API (Places, Directions)**  
   地図の表示および経路案内機能を提供します。
3. **HotPepper Gourmet Web Service API**  
   レストラン情報を検索および取得するためのAPIです。
4. **Tailwind CSS (v3.0)**  
   ユーティリティクラスベースのCSSフレームワークで、レスポンシブデザインを効率的に構築できます。
5. **Font Awesome**  
   様々なアイコンを簡単に追加できるアイコンライブラリです。
6. **i18next(みかんせい)**  
   多言語対応ライブラリで、テキストの翻訳および言語変更機能を提供します。

---

### 内蔵ブラウザAPI
1. **Geolocation API**  
   ユーザーの現在位置情報を取得し、レストラン検索に利用します。
2. **Fetch API**  
   非同期ネットワークリクエストを通じてAPIデータを取得します。
3. **LocalStorage API**  
   ローカルストレージにデータを保存し、取り出す機能を提供します。
4. **DOM API**  
   HTML要素を動的に操作してユーザーインターフェイスを構築します。
5. **Navigator API**  
   ブラウザのナビゲーション情報を提供します。

---

## アドバイスを求めたいポイント
- API Key 値を隠すために `.env` に値を入れて `dotenv` で呼び出そうとしましたが、エラーが継続して発生しました。
- i18nextの多言語機能に関するエラーの解決策（多言語機能がない場合は問題ありませんが、多言語機能を追加するとCORSが発生します）
- CORSエラーの解決方法（サーバーなしで解決可能か）
- HTML内で独立した経路案内機能の実装方法
- Google Maps APIで `google.maps.Marker` の警告解決方法（ `google.maps.marker.AdvancedMarkerElement` に修正しましたが、警告は消えたもののマップが読み込まれません）
- Google Maps APIとHotPepper Gourmet APIの距離基準の違いによる距離ソート問題の解決方法
- UI/UXの改善方法
- コードの最適化および簡素化
- セキュリティ強化方法
- エラーハンドリングおよびユーザーフィードバックの改善方法

---

## 自己評価
- フロントエンドのみの開発は初めてだったため、APIの暗号化やCORSエラーを正しく処理できなかったのが残念です。
- APIキーの暗号化が解決して、アプリを公開できていれば、さらに良かったと思います。
- JSファイルを共通で使用する中で多くの衝突が発生しましたが、次回はJavaScriptを分割して使用する予定です。
