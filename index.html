<!DOCTYPE html>
<html lang="en">
    <head>
        <!-- Font Awesome 추가/ Font Awesomeを追加 -->
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
        />
        <!-- 다른 스타일 시트 및 스크립트들 / スタイルシートとスクリプト-->
        <link rel="stylesheet" href="css/styles.css" />
        <link
            rel="preconnect"
            href="https://fonts.gstatic.com/"
            crossorigin=""
        />
        <title>Amami - グルメサーチ</title>
        <link rel="icon" type="image/x-icon" href="data:image/x-icon;base64," />
        <!-- Tailwind CSS 추가 / Tailwind CSSを追加-->
        <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
        <!-- 분리된 CSS 파일 추가 / 分離されたCSSファイルの追加-->
        <link rel="stylesheet" href="css/styles.css" />
        <!-- google Places API  -->
        <script
            async
            defer
            src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAH_PSZNCqqKxk_pXjIiG0PykBKJZs8L1A&libraries=places&callback=initAutocomplete"
        ></script>
    </head>
    <header
        class="flex items-center justify-between whitespace-nowrap border-b border-solid border-b-[#EEEEEE] px-10 py-3"
    >
        <div class="flex items-center gap-4">
            <a href="index.html">
                <img
                    src="images/logo.png"
                    alt="Amami Logo"
                    class="h-12 object-contain"
                />
            </a>
        </div>
        <div class="flex items-center gap-4 relative">
            <!-- 다국어 버튼 / 多言語ボタン-->
            <div
                id="languageSelector"
                style="display: flex; align-items: center"
            >
                <button
                    id="languageIcon"
                    onclick="toggleDropdown(event)"
                    onKeyDown="if(event.key === 'Enter' || event.key === ' ') toggleDropdown(event);"
                    style="
                        cursor: pointer;
                        background: none;
                        border: none;
                        padding: 0;
                    "
                    aria-haspopup="true"
                    aria-expanded="false"
                >
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="24px"
                        height="24px"
                        fill="currentColor"
                        viewBox="0 0 24 24"
                    >
                        <path
                            d="M12,0A12,12,0,1,0,24,12,12.013,12.013,0,0,0,12,0Zm3.222,7H8.778A19.614,19.614,0,0,1,12,2.412,19.57,19.57,0,0,1,15.222,7Zm.8,2a10.211,10.211,0,0,1,.476,3,10.211,10.211,0,0,1-.476,3H7.976A10.211,10.211,0,0,1,7.5,12a10.211,10.211,0,0,1,.476-3ZM9.4,2.356A19.676,19.676,0,0,0,6.574,7H3.353A10.031,10.031,0,0,1,9.4,2.356ZM2,12a9.986,9.986,0,0,1,.461-3H5.9a12.016,12.016,0,0,0-.4,3,12.016,12.016,0,0,0,.4,3H2.461A9.986,9.986,0,0,1,2,12Zm1.353,5H6.574A19.676,19.676,0,0,0,9.4,21.644,10.031,10.031,0,0,1,3.353,17Zm5.425,0h6.444A19.614,19.614,0,0,1,12,21.588,19.57,19.57,0,0,1,8.778,17Zm5.827,4.644A19.676,19.676,0,0,0,17.426,17h3.221A10.031,10.031,0,0,1,14.605,21.644ZM22,12a9.986,9.986,0,0,1-.461,3H18.1a12.016,12.016,0,0,0,.4-3,12.016,12.016,0,0,0-.4-3h3.437A9.986,9.986,0,0,1,22,12ZM17.426,7a19.676,19.676,0,0,0-2.821-4.644A10.031,10.031,0,0,1,20.647,7Z"
                        ></path>
                    </svg>
                </button>

                <div
                    id="languageDropdown"
                    style="
                        display: none;
                        position: absolute;
                        top: 40px;
                        left: 0;
                        z-index: 10;
                        background: white;
                        border: 1px solid #ccc;
                        border-radius: 5px;
                    "
                >
                    <div
                        onclick="selectLanguage('ja')"
                        style="padding: 10px; cursor: pointer"
                    >
                        日本語
                    </div>
                    <div
                        onclick="selectLanguage('en')"
                        style="padding: 10px; cursor: pointer"
                    >
                        English
                    </div>
                    <div
                        onclick="selectLanguage('kr')"
                        style="padding: 10px; cursor: pointer"
                    >
                        한국어
                    </div>
                </div>
            </div>

            <div
                id="selectedLang"
                onclick="toggleDropdown(event)"
                style="
                    cursor: pointer;
                    margin-left: 5px;
                    display: flex;
                    align-items: center;
                "
            >
                <!-- 기본 언어 표시 / 基本言語を表示 -->
            </div>
            <!-- 검색 페이지 버튼 / 検索ページボタン-->
            <a
                href="index.html"
                class="flex min-w-[84px] max-w-[480px] cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 px-4 flex-1 bg-black text-[#FFFFFF] text-sm font-bold leading-normal tracking-[0.015em] hover:bg-gray-800"
            >
                Search Page
            </a>
        </div>
    </header>

    <body>
        <div
            class="relative flex size-full min-h-screen flex-col bg-[#FFFFFF] group/design-root overflow-x-hidden"
            style="font-family: 'Work Sans', 'Noto Sans', sans-serif"
        >
            <div class="layout-container flex h-full grow flex-col">
                <div class="px-10 flex flex-1 justify-center py-5">
                    <div
                        class="layout-content-container flex flex-col w-full max-w-[400px] py-5 flex-1"
                    >
                        <h2
                            class="text-black tracking-light text-[28px] font-bold leading-tight text-center pb-3 pt-5"
                            data-i18n="title"
                        >
                            Find Nearby Gourmet Restaurants
                        </h2>
                        <!-- 위치 시작 / いちのかいし-->
                        <h3
                            class="text-black text-lg font-bold leading-tight tracking-[-0.015em] pb-2 pt-4"
                            data-i18n="location"
                        >
                            Location
                        </h3>

                        <!-- Address Search Field / 住所検索-->
                        <div
                            class="input-clear flex max-w-[400px] flex-wrap items-end gap-4 py-3"
                        >
                            <input
                                id="locationInput"
                                placeholder="Address Search"
                                class="form-input flex w-full min-w-0 resize-none overflow-hidden rounded-xl text-black focus:outline-0 focus:ring-0 border border-[#DEDEDE] bg-[#FFFFFF] focus:border-[#DEDEDE] h-14 placeholder:text-[#6B6B6B] p-[15px] text-base font-normal leading-normal"
                                value=""
                                data-i18n-placeholder="locationPlaceholder"
                            />
                        </div>
                        <div
                            class="text-black text-base font-medium text-center"
                            data-i18n="or"
                        >
                            or
                        </div>
                        <!-- 현재 위치 조회 / 現在位置の確認 -->
                        <div
                            id="locationButton"
                            class="flex items-center gap-4 bg-[#FFFFFF] w-full p-2 my-1 justify-between cursor-pointer"
                        >
                            <div class="flex items-center gap-4">
                                <div
                                    class="text-black flex items-center justify-center rounded-lg bg-[#EEEEEE] shrink-0 size-12"
                                >
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        width="24px"
                                        height="24px"
                                        fill="currentColor"
                                        viewBox="0 0 256 256"
                                    >
                                        <path
                                            d="M128,64a40,40,0,1,0,40,40A40,40,0,0,0,128,64Zm0,64a24,24,0,1,1,24-24A24,24,0,0,1,128,128Zm0-112a88.1,88.1,0,0,0-88,88c0,31.4,14.51,64.68,42,96.25a254.19,254.19,0,0,0,41.45,38.3,8,8,0,0,0,9.18,0A254.19,254.19,0,0,0,174,200.25c27.45-31.57,42-64.85,42-96.25A88.1,88.1,0,0,0,128,16Zm0,206c-16.53-13-72-60.75-72-118a72,72,0,0,1,144,0C200,161.23,144.53,209,128,222Z"
                                        ></path>
                                    </svg>
                                </div>
                                <div class="flex flex-col justify-center">
                                    <p
                                        class="text-black text-base font-medium leading-normal"
                                        data-i18n="myCurrentLocation"
                                    >
                                        Use my current location
                                    </p>
                                    <p
                                        class="text-[#6B6B6B] text-sm font-normal leading-normal"
                                        data-i18n="currentLocation"
                                    >
                                        Current Location
                                    </p>
                                </div>
                            </div>
                            <div class="shrink-0">
                                <div
                                    class="text-black flex size-7 items-center justify-center"
                                >
                                    <svg
                                        xmlns="http://www.w3.org/2000/svg"
                                        width="24px"
                                        height="24px"
                                        fill="currentColor"
                                        viewBox="0 0 256 256"
                                    >
                                        <path
                                            d="M221.66,133.66l-72,72a8,8,0,0,1-11.32-11.32L196.69,136H40a8,8,0,0,1,0-16H196.69L138.34,61.66a8,8,0,0,1,11.32-11.32l72,72A8,8,0,0,1,221.66,133.66Z"
                                        ></path>
                                    </svg>
                                </div>
                            </div>
                        </div>
                        <!-- 위도 입력 필드 / 緯度入力フィールド -->
                        <div class="mb-4">
                            <input
                                id="latitudeInput"
                                type="number"
                                step="0.000000000000001"
                                min="-90"
                                max="90"
                                placeholder="Enter Latitude"
                                class="w-full h-14 px-6 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                oninput="validateLatitude()"
                                data-i18n-placeholder="latitudePlaceholder"
                            />
                            <p
                                id="latitudeWarning"
                                class="hidden text-red-500 mt-1"
                                data-i18n="latitudeAlert"
                            >
                                緯度は-90から90の間でなければなりません。
                            </p>
                        </div>

                        <!-- 경도 입력 필드 / 経度入力フィールド -->
                        <div class="mb-4">
                            <input
                                id="longitudeInput"
                                type="number"
                                step="0.000000000000001"
                                min="-180"
                                max="180"
                                placeholder="Enter Longitude"
                                class="w-full h-14 px-6 py-3 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                oninput="validateLongitude()"
                                data-i18n-placeholder="longitudePlaceholder"
                            />
                            <p
                                id="longitudeWarning"
                                class="hidden text-red-500 mt-1"
                                data-i18n="longitudeAlert"
                            >
                                経度は-180から180の間でなければなりません。
                            </p>
                        </div>
                        <!-- 검색 반경 / 検索範囲 -->
                        <h3
                            class="text-black text-lg font-bold leading-tight tracking-[-0.015em] pb-2 pt-4"
                            data-i18n="radius"
                        >
                            Search Radius
                        </h3>
                        <div class="flex flex-wrap gap-3 p-2">
                            <div class="flex items-center gap-2">
                                <input
                                    type="radio"
                                    id="radius-300"
                                    name="radius"
                                    value="1"
                                />
                                <label
                                    for="radius-300"
                                    class="radio-label hover:bg-gray-200"
                                    >300m</label
                                >
                            </div>
                            <div class="flex items-center gap-2">
                                <input
                                    type="radio"
                                    id="radius-500"
                                    name="radius"
                                    value="2"
                                />
                                <label
                                    for="radius-500"
                                    class="radio-label hover:bg-gray-200"
                                    >500m</label
                                >
                            </div>
                            <div class="flex items-center gap-2">
                                <input
                                    type="radio"
                                    id="radius-1km"
                                    name="radius"
                                    value="3"
                                />
                                <label
                                    for="radius-1km"
                                    class="radio-label hover:bg-gray-200"
                                    >1km</label
                                >
                            </div>
                            <div class="flex items-center gap-2">
                                <input
                                    type="radio"
                                    id="radius-2km"
                                    name="radius"
                                    value="4"
                                />
                                <label
                                    for="radius-2km"
                                    class="radio-label hover:bg-gray-200"
                                    >2km</label
                                >
                            </div>
                        </div>
                        <p
                            id="radius-warning"
                            class="hidden text-red-500 mt-2"
                            data-i18n="radiusAlert"
                        >
                            検索半径を選択してください。
                        </p>
                        <!-- 정렬 기준 / 並び替え基準 -->
                        <h3
                            class="text-black text-lg font-bold leading-tight tracking-[-0.015em] pb-2 pt-4"
                            data-i18n="sort"
                        >
                            Sort by
                        </h3>
                        <div class="flex flex-wrap gap-3 p-2">
                            <div class="flex items-center gap-2">
                                <input
                                    type="radio"
                                    id="sort-recommendation"
                                    name="sortOrder"
                                    value="4"
                                />
                                <label
                                    for="sort-recommendation"
                                    class="radio-label hover:bg-gray-200"
                                    data-i18n="recommendation"
                                    >Recommendation
                                </label>
                            </div>
                            <div class="flex items-center gap-2">
                                <input
                                    type="radio"
                                    id="sort-distance"
                                    name="sortOrder"
                                    value="1"
                                />
                                <label
                                    for="sort-distance"
                                    class="radio-label hover:bg-gray-200"
                                    data-i18n="distance"
                                    >Distance</label
                                >
                            </div>
                        </div>
                        <p
                            id="sort-warning"
                            class="hidden text-red-500 mt-2"
                            data-i18n="sortAlert"
                        >
                            並べ替え基準を選択してください。
                        </p>

                        <!-- 장르 선택 (드롭다운) / ジャンル選択（ドロップダウン）-->
                        <h3
                            class="text-black text-lg font-bold leading-tight pb-2 pt-4"
                            data-i18n="genre"
                        >
                            ジャンル
                        </h3>
                        <div class="flex flex-wrap items-end gap-4 py-3">
                            <label class="w-full">
                                <select
                                    id="genreSelect"
                                    class="w-full h-14 py-3 px-4 border border-gray-300 rounded-lg focus:outline-none focus:border-blue-500"
                                >
                                    <option value="" data-i18n="allGenres">
                                        全てのジャンル
                                    </option>
                                    <option value="G001" data-i18n="izakaya">
                                        居酒屋
                                    </option>
                                    <option value="G002" data-i18n="diningBar">
                                        ダイニングバー・バル
                                    </option>
                                    <option
                                        value="G003"
                                        data-i18n="creativeCuisine"
                                    >
                                        創作料理
                                    </option>
                                    <option value="G004" data-i18n="japanese">
                                        和食
                                    </option>
                                    <option value="G005" data-i18n="western">
                                        洋食
                                    </option>
                                    <option
                                        value="G006"
                                        data-i18n="italianFrench"
                                    >
                                        イタリアン・フレンチ
                                    </option>
                                    <option value="G007" data-i18n="chinese">
                                        中華
                                    </option>
                                    <option value="G008" data-i18n="yakiniku">
                                        焼肉・ホルモン
                                    </option>
                                    <option value="G017" data-i18n="korean">
                                        韓国料理
                                    </option>
                                    <option
                                        value="G009"
                                        data-i18n="asianEthnic"
                                    >
                                        アジア・エスニック料理
                                    </option>
                                    <option
                                        value="G010"
                                        data-i18n="worldCuisine"
                                    >
                                        各国料理
                                    </option>
                                    <option
                                        value="G011"
                                        data-i18n="karaokeParty"
                                    >
                                        カラオケ・パーティ
                                    </option>
                                    <option
                                        value="G012"
                                        data-i18n="barCocktail"
                                    >
                                        バー・カクテル
                                    </option>
                                    <option value="G013" data-i18n="ramen">
                                        ラーメン
                                    </option>
                                    <option
                                        value="G016"
                                        data-i18n="okonomiyaki"
                                    >
                                        お好み焼き・もんじゃ
                                    </option>
                                    <option value="G014" data-i18n="cafeSweets">
                                        カフェ・スイーツ
                                    </option>
                                    <option
                                        value="G015"
                                        data-i18n="otherGourmet"
                                    >
                                        その他グルメ
                                    </option>
                                </select>
                            </label>
                        </div>
                        <!-- 검색 버튼 / 検索ボタン -->
                        <div class="flex justify-start mt-4">
                            <button
                                id="searchButton"
                                class="w-full cursor-pointer items-center justify-center overflow-hidden rounded-xl h-10 px-4 bg-black text-[#FFFFFF] text-sm font-bold leading-normal tracking-[0.015em] hover:bg-gray-800"
                                onclick="handleSearch()"
                            >
                                <span class="truncate" data-i18n="search"
                                    >Search</span
                                >
                            </button>
                        </div>
                    </div>
                </div>
                <!-- 공용 푸터 불러오기 / 共通フッターの読み込み -->
                <div id="footer"></div>
            </div>
        </div>
        <script src="js/script.js"></script>
    </body>
</html>
