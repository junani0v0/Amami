# 仕様書

**作成者:**  
パク・ジュンハン (朴 俊漢, PARK JUNHAN)

**アプリ名:**  
<img src="https://github.com/user-attachments/assets/2ec37f40-df53-4d23-85e2-2c10ea32808e" width="20%">

### Amami  - グルメサーチ
*あなたの周りのお店 (Anata no mawari no mise)*

---

## アプリ概要
Amamiは、ユーザーの現在位置を基準に周辺のレストランを簡単に検索できるウェブアプリケーションです。ユーザーはさまざまな検索条件を設定し、目的のレストランを探し、詳細情報や地図を通じて素早く目的地に移動できます。

---
## 重要なポイント

### 機能:
周辺のレストランを様々な条件で検索できるだけでなく、経路案内機能も提供するように設計しました。

### デザイン:
ユーザーエクスペリエンスを考慮し、できる限りシンプルで直感的なデザインを目指しました。

---

## リポジトリ URL
https://github.com/junani0v0/Amami
---


## 開発環境
- **開発ツール:** Visual Studio Code (バージョン 1.93.1)
- **使用言語:** JavaScript (ES6), HTML5, CSS3, JSON
- **対応OSおよびブラウザ:**  
  - **OS:** Windows, macOS, Linux  
  - **ブラウザ:** Chrome, Firefox, Safari など主要なブラウザ
- **開発期間:** 2週間
---

AMAMI/   
│   
├── .env                   # 環境変数ファイル (APIキーの暗号化試行未完了)   
├── node_modules/          # npmパッケージがインストールされるディレクトリ (APIキーの暗号化試行未完了)    
├── package.json           # プロジェクトの設定と依存関係リスト (APIキーの暗号化試行未完了)   
├── server.js              # Node.jsサーバー用ファイル (APIキーの暗号化試行未完了)   
├── index.html             # HTMLファイル      
├── result.html            # HTMLファイル     
├── css/     
│   └── styles.css         # CSSファイル     
├── js/       
│   └── script.js          # JavaScriptファイル      
├── json/     
│   ├── en.json            # 多言語ファイル (英語)   
│   ├── ja.json            # 多言語ファイル (日本語)   
│   └── kr.json            # 多言語ファイル (韓国語)   
└── images/logo.png        # アプリケーションロゴ    


---

## 主な機能
1. **レストラン検索**  
   ユーザーの現在位置を基に、HotPepper Gourmet Web Service APIを使用して周辺のレストランを検索します。
2. **検索結果リスト表示**  
   検索結果ページには、レストランのリストが10件ずつ表示され、各レストランの情報は写真、名前、所在地で構成されています。
3. **レストラン情報の取得**  
   検索されたレストランの詳細情報をAPIを通じてモーダルウィンドウに表示します。
4. **道案内機能**  
   Google Maps APIを利用して、ユーザーの現在位置から選択したレストランまでの経路案内を提供します。
5. **多言語対応**  
   i18nextを使用して、日本語、韓国語、英語のテキスト変換および言語変更機能を提供します。
6. **現在位置に基づく検索**  
   Geolocation APIを使用してユーザーの現在位置を取得します。ユーザーが位置情報の許可をすると、現在位置が自動的に入力されます。
7. **ページネーション**  
   検索結果が多い場合、10件ずつページネーションで表示し、ユーザーは複数ページの結果を探すことができます。
8. **予約およびクーポン機能の連携**  
   レストランの予約URLやクーポン情報と連携し、予約およびクーポン利用をサポートします。
9. **住所自動補完機能**  
   Google Maps Places APIを使用して、住所入力時に自動補完機能を提供します。
10. **エラーメッセージおよび入力検証**  
   緯度・経度の値が正しく入力されていない場合や、検索半径や並び替え基準が選択されていない場合に警告メッセージを表示して入力検証を行います。

---

### 今後考慮すべき追加機能

1. **ユーザーに合わせたおすすめシステム**  
   ユーザーの検索履歴や好みに基づいて、おすすめのレストランを提供し、ユーザー体験を向上させる機能を追加することができます。
2. **店舗レビューおよび評価機能**  
   Google Places APIやHotPepper APIからレビューを取得してユーザーに表示したり、ユーザーが直接レビューを残せる機能を追加できます。
3. **店舗画像の追加**  
   HotPepper APIでは1つの画像のみ提供されるため、Google Places APIから複数の画像を取得し、ユーザーに表示することができます。
4. **電話連携および電話予約**  
   HotPepper APIでは電話番号が提供されないため、Google Places APIから電話番号を取得し、電話機能と連携することが可能です。
5. **経路案内の改善**  
   現在は緯度・経度のみで店舗の位置を提供していますが、店舗名や追加情報を一緒に提供するように改善できます。

---

## 画面構成

### 1. **検索画面:**  
<img src="https://github.com/user-attachments/assets/83a66951-1c3e-45ab-978e-41646f55ec5a" alt="searchPage" width="400">

位置情報入力フィールド、検索範囲選択、並び替え基準選択、ジャンル選択などの検索オプションを提供するページです。  
ユーザーが住所入力または現在位置を使用してレストランを検索し、さまざまな検索条件を設定できます。

### 2. **検索結果画面:**  
<img src="https://github.com/user-attachments/assets/ef64a63c-98e2-4547-99f0-c7429dfa3ea5" alt="resultPage" width="400">

検索条件に一致したレストランのリストを表示し、検索条件の再設定も可能です。  
 レストランをクリックすると、モーダルウィンドウが開き、詳細情報を確認できます。

### 3. **詳細情報画面:**  
<div style="display: flex; gap: 10px;">
   <img src="https://github.com/user-attachments/assets/e61d9c55-7ec8-4ea1-8d6d-0f31cceeac44" alt="detailPage2" width="300">
   <img src="https://github.com/user-attachments/assets/e56cbe32-9de4-4b7b-9739-61555fbf19d3" alt="detailPage1" width="300">
</div>

選択されたレストランの詳細情報を表示するポップアップウィンドウです。  
レストラン情報以外に、Google Mapsを通じた経路案内ボタンや予約・クーポンURL連携ボタンも含まれています。

---

## 使用API

### 外部APIおよびライブラリ
1. **Google Fonts (Noto Sans)**  
   テキストスタイリング用のフォントです。
2. **Google Maps JavaScript API (Places, Directions)**  
   地図の表示および経路案内機能を提供します。
3. **HotPepper Gourmet Web Service API**  
   レストラン情報を検索および取得するためのAPIです。
4. **Tailwind CSS (v3.0)**  
   ユーティリティクラスベースのCSSフレームワークで、レスポンシブデザインを効率的に構築できます。
5. **Font Awesome**  
   様々なアイコンを簡単に追加できるアイコンライブラリです。
6. **i18next(みかんせい)**  
   多言語対応ライブラリで、テキストの翻訳および言語変更機能を提供します。

---

### 内蔵ブラウザAPI
1. **Geolocation API**  
   ユーザーの現在位置情報を取得し、レストラン検索に利用します。
2. **Fetch API**  
   非同期ネットワークリクエストを通じてAPIデータを取得します。
3. **LocalStorage API**  
   ローカルストレージにデータを保存し、取り出す機能を提供します。
4. **DOM API**  
   HTML要素を動的に操作してユーザーインターフェイスを構築します。
5. **Navigator API**  
   ブラウザのナビゲーション情報を提供します。

---

## アドバイスを求めたいポイント
- API Key 値を隠すために `.env` に値を入れて `dotenv` で呼び出そうとしましたが、エラーが継続して発生しました。
- i18nextの多言語機能に関するエラーの解決策（多言語機能がない場合は問題ありませんが、多言語機能を追加するとCORSが発生します）
- CORSエラーの解決方法（サーバーなしで解決可能か）
- HTML内で独立した経路案内機能の実装方法
- Google Maps APIで `google.maps.Marker` の警告解決方法（ `google.maps.marker.AdvancedMarkerElement` に修正しましたが、警告は消えたもののマップが読み込まれません）
- Google Maps APIとHotPepper Gourmet APIの距離基準の違いによる距離ソート問題の解決方法
- UI/UXの改善方法
- コードの最適化および簡素化
- セキュリティ強化方法
- エラーハンドリングおよびユーザーフィードバックの改善方法

---

## 自己評価
- フロントエンドのみの開発は初めてだったため、APIの暗号化やCORSエラーを正しく処理できなかったのが残念です。
- APIキーの暗号化が解決して、アプリを公開できていれば、さらに良かったと思います。
- JSファイルを共通で使用する中で多くの衝突が発生しましたが、次回はJavaScriptを分割して使用する予定です。

---


# 사양서

**작성자:**  
박 준한 (朴 俊漢, PARK JUNHAN)

**앱 이름:**  
<img src="https://github.com/user-attachments/assets/36427f98-9769-4b96-8c53-780fc792c37d" width="20%">

### Amami  - グルメサーチ
*당신 주변의 가게 (Anata no mawari no mise)*

---

## 앱 개요
Amami는 사용자의 현재 위치를 기준으로 주변의 레스토랑을 쉽게 검색할 수 있는 웹 애플리케이션입니다. 사용자는 다양한 검색 조건을 설정해 원하는 레스토랑을 찾고, 상세 정보와 지도를 통해 빠르게 목적지로 이동할 수 있습니다.

---
## 주요 포인트

### 기능:
주변의 맛집을 다양한 조건으로 검색할 수 있을 뿐만 아니라, 경로 안내 기능까지 제공하도록 구현했습니다.

### 디자인:
사용자 경험을 고려하여, 최대한 직관적이고 심플한 디자인을 유지하려고 노력했습니다.

---

## 리포지토리 URL
https://github.com/junani0v0/Amami
---

## 개발 환경
- **개발 도구:** Visual Studio Code (버전 1.93.1)
- **개발 언어:** JavaScript (ES6), HTML5, CSS3, JSON
- **대상 OS 및 브라우저:**  
  - **OS:** Windows, macOS, Linux  
  - **브라우저:** Chrome, Firefox, Safari 등 주요 브라우저
- **개발 기간:** 2주

---

AMAMI/   
│   
├── .env                   # 환경 변수 파일 (API 키 암호화 시도 미완성)    
├── node_modules/          # npm 패키지들이 설치되는 디렉토리 (API 키 암호화 시도 미완성)     
├── package.json           # 프로젝트의 설정 및 의존성 목록 (API 키 암호화 시도 미완성)   
├── server.js              # Node.js 서버 파일 (API 키 암호화 시도 미완성)   
├── index.html             # HTML 파일      
├── result.html            # HTML 파일   
├── css/      
│   └── styles.css         # CSS 파일     
├── js/     
│   └── script.js          # JavaScript 파일    
├── json/     
│   ├── en.json            # 다국어 파일 (영어)   
│   ├── ja.json            # 다국어 파일 (일본어)   
│   └── kr.json            # 다국어 파일 (한국어)   
└── images/logo.png           # 애플리케이션 로고  

---

## 주요 기능
1. **레스토랑 검색**  
   사용자의 현재 위치를 기반으로 HotPepper Gourmet Web Service API를 사용해 주변 레스토랑을 검색합니다.
2. **검색 결과 목록 표시**  
   검색 결과 페이지에 레스토랑 목록이 10개씩 표시되며, 각 레스토랑 정보는 사진, 이름, 위치 정보로 구성됩니다.
3. **레스토랑 정보 가져오기**  
   검색된 레스토랑의 상세 정보를 API를 통해 모달 창에 표시합니다.
4. **길 안내 기능**  
   Google Maps API를 통해 사용자의 현재 위치에서 선택한 레스토랑까지의 경로 안내를 제공합니다.
5. **현재 위치 기반 검색**  
   사용자의 현재 위치 정보를 가져오기 위해 Geolocation API를 사용합니다. 사용자가 위치 권한을 허용하면 현재 위치 정보가 자동으로 입력됩니다.
6. **페이지네이션**  
   검색 결과가 많을 경우, 10개씩 페이지네이션을 통해 사용자가 여러 페이지의 결과를 탐색할 수 있습니다.
7. **예약 및 쿠폰 기능 연동**  
   레스토랑 예약 URL과 쿠폰 정보를 연동하여 예약 및 쿠폰 사용을 지원합니다.
8. **주소 자동 완성 기능**  
   Google Maps Places API를 사용하여 주소 입력 시 자동 완성 기능을 지원합니다.
9. **오류 메시지 및 입력 검증**  
   위도와 경도 값이 잘못 입력되었을 때, 또는 검색 반경이나 정렬 기준이 선택되지 않았을 때 경고 메시지를 표시해 입력 검증을 수행합니다.
10. **다국어 지원(미완)**  
   i18next를 통해 한국어, 일본어, 영어 간의 텍스트 변환 및 언어 변경 기능을 제공합니다.

---

### 추가적으로 고려할 수 있는 기능

1. **사용자 맞춤형 추천 시스템**  
   사용자의 검색 기록이나 선호도를 기반으로 추천 레스토랑을 제공하는 기능을 추가해 사용자 경험을 향상시킬 수 있습니다.
2. **장소 리뷰 및 평점 기능**  
   Google Places API나 Hotpepper API에서 리뷰 데이터를 가져와 사용자에게 보여주거나, 사용자가 직접 리뷰를 남길 수 있는 기능을 추가할 수 있습니다.
3. **가게 이미지 추가**  
   Hotpepper API에서는 1가지 이미지만 제공하기 때문에 Google Places API에서 다양한 이미지를 가져와 사용자에게 보여줄 수 있습니다.
4. **전화 연결 및 전화 예약**  
   Hotpepper API에서 제공되지 않는 전화번호를 Google Places API를 통해 가져와 전화 기능과 연동할 수 있습니다.
5. **안내 경로 개선**  
   현재 위도 경도 값만으로 가게 위치를 제공하는 구조를 개선해, 가게의 이름과 추가 정보를 함께 전달하도록 수정할 수 있습니다.

---

## 화면 구성

### 1. **검색 화면:**  
<img src="https://github.com/user-attachments/assets/83a66951-1c3e-45ab-978e-41646f55ec5a" alt="searchPage" width="400">

위치 입력 필드, 검색 반경 선택, 정렬 기준 선택, 장르 선택 등의 검색 옵션을 제공하는 페이지입니다.    
사용자가 주소 입력 또는 현재 위치를 통해 레스토랑을 검색하며, 다양한 검색 조건을 설정할 수 있습니다.

### 2. **검색 결과 화면:**  
<img src="https://github.com/user-attachments/assets/ef64a63c-98e2-4547-99f0-c7429dfa3ea5" alt="resultPage" width="400">

사용자가 검색한 조건에 맞는 레스토랑 목록을 표시하며, 검색 조건을 재설정할 수 있습니다.   
 레스토랑을 클릭하면 모달 창이 열리며, 상세 정보를 확인할 수 있습니다.

### 3. **상세 정보 화면:**  
<div style="display: flex; gap: 10px;">
   <img src="https://github.com/user-attachments/assets/e61d9c55-7ec8-4ea1-8d6d-0f31cceeac44" alt="detailPage2" width="300">
   <img src="https://github.com/user-attachments/assets/e56cbe32-9de4-4b7b-9739-61555fbf19d3" alt="detailPage1" width="300">
</div>

선택한 레스토랑의 세부 정보를 표시하는 팝업 창입니다.    
레스토랑 정보 외에도 Google Maps를 통한 경로 안내 버튼, 예약 및 쿠폰 URL 연결 버튼이 포함되어 있습니다.

---

## 사용된 API

### 외부 API 및 라이브러리
1. **Google Fonts (Noto Sans)**  
   텍스트 스타일링을 위한 폰트입니다.
2. **Google Maps JavaScript API (Places, Directions)**  
   지도 표시 및 경로 안내 기능을 제공합니다.
3. **HotPepper Gourmet Web Service API**  
   레스토랑 정보를 검색 및 가져오는 API입니다.
4. **Tailwind CSS (v3.0)**  
   유틸리티 클래스 기반의 CSS 프레임워크로, 반응형 디자인을 빠르고 효율적으로 구축할 수 있습니다.
5. **Font Awesome**  
   다양한 아이콘을 쉽게 추가할 수 있는 아이콘 라이브러리입니다.
6. **i18next(미완성)**  
   다국어 지원 라이브러리로, 텍스트 번역 및 언어 변경 기능을 제공합니다.

---

### 내장 브라우저 API
1. **Geolocation API**  
   사용자의 현재 위치 정보를 가져와 레스토랑 검색에 활용합니다.
2. **Fetch API**  
   비동기 네트워크 요청을 통해 API 데이터를 가져옵니다.
3. **LocalStorage API**  
   로컬 스토리지에 데이터를 저장하고 불러오는 기능을 제공합니다.
4. **DOM API**  
   HTML 요소를 동적으로 조작해 사용자 인터페이스를 구성합니다.
5. **Navigator API**  
   브라우저의 네비게이션 정보를 제공합니다.

---

## 조언을 받고 싶은 포인트
- API Key 값을 숨기기위해 `.env`에 값을 넣고 `dotenv`로 불러오려했지만 계속적인 에러발생
- i18next 다국어 기능의 에러 해결 방안 (다국어 기능이 없을 경우는 괜찮지만 다국어 기능을 추가하면 CORS발생)
- CORS 에러 해결 방법 (서버 없이 해결 가능한지)
- HTML 내에서의 독립적인 길 안내 기능 구현 방법
- Google Maps API에서 `google.maps.Marker`의 경고 해결 방법 (`google.maps.marker.AdvancedMarkerElement`로 수정했으나, 경고는 사라졌지만 맵이 로드되지 않음)
- Google Maps API와 HotPepper Gourmet API의 거리 기준 차이로 인한 거리 정렬 문제 해결 방법
- UI/UX 개선 방법
- 코드 최적화 및 간소화
- 보안 강화 방법
- 에러 처리 및 사용자 피드백 강화 방안

---

## 자기 평가
- 프론트엔드만의 개발이 처음이라 API 암호화와 CORS 에러를 제대로 처리하지 못한 것이 아쉽습니다.
- API 키의 암호화 문제가 해결되어 배포할 수 있었다면 더 좋았을 것입니다.
- JS 파일을 공통으로 사용하면서 여러 충돌이 발생하였는데, 다음에는 자바스크립트를 분리하여 사용할 계획입니다.

